<!doctype html>

<html>

<head>
  <title>Test Fretboard Page</title>
  <meta charset="utf-8" />
  <script src="jquery-1.9.1.min.js"></script>
  <script src="raphael-min.js"></script>
  <script src="fretboard.js"></script>
</head>

<body>
  <div id="canvas_container"></div>
  <button class="reset-button">Unclick Frets</button>
  <button class="add-string-button">Add String</button>
  <button class="remove-string-button">Remove String</button>
  <button class="disable">Toggle Enable/Disable Fretboard</button>
  <button class="chord-mode">Toggle chord mode</button>
	<button class="get-clicked">Get clicked notes (console)</button>
  <script type="text/javascript">
    var chordMode = true;
    var disabled = false;
    var guitarStringNotes = [
      { noteLetter: "E", noteOctave: 5 },
      { noteLetter: "B", noteOctave: 5 },
      { noteLetter: "G", noteOctave: 4 },
      { noteLetter: "D", noteOctave: 4 },
      { noteLetter: "A", noteOctave: 4 },
      { noteLetter: "E", noteOctave: 3 }
    ];

    $('#canvas_container').fretboard({
      fretboardOrigin: [200,200],
      numFrets: 16,
      fretWidth: 70,
      fretHeight: 35,
      isChordMode: chordMode,
      disabled: disabled,
      guitarStringNotes: guitarStringNotes,
      clickedNoteCircColor : "purple",
      clickedNoteTextColor: "white",
      hoverNoteCircColor : "yellow",
      hoverNoteTextColor: "red",
      fretboardColor: "wheat",
      stringColor: "black",
      tuningTriangleColor : "blue",
      fretsToDrawOneCircleOn : [3,5,7,9,12],
      opacityAnimateSpeed: 250,
      showTuningTriangles: true,
      showTuningSquares: true,      
      tuningSquaresColor : "black",
      tuningSquaresTextColor: "orange",
      nutColor: "brown"
    });

    var myFretboard = $('#canvas_container').data('fretboard');

    $('.disable').on("click", function () {
      myFretboard.disable();
    });

    $('.disable').on("click", function () {
      disabled = !disabled;
      if (disabled) {
        myFretboard.disable();
      } else {
        myFretboard.enable();
      }
    });

    $('.chord-mode').on("click", function () {
      chordMode = !chordMode;
      myFretboard.setChordMode(chordMode);
    });

    $('.reset-button').on("click", function () {
      myFretboard.clearClickedNotes();
    });

    $('.add-string-button').on("click", function () {
      guitarStringNotes.push({
        noteLetter: "Gb/F#",
        noteOctave: 2
      });
      myFretboard.setTuning(guitarStringNotes);
    });

    $('.remove-string-button').on("click", function () {
      guitarStringNotes.pop();
      myFretboard.setTuning(guitarStringNotes);
    });
    
    myFretboard.setClickedNoteByStringNoteAndFretNum({ 
      stringItsOn : { noteLetter: "E", noteOctave: 5 },
      fretNumber: 5,
      circColor: "red",
      textColor : "white"
    });
    
    myFretboard.setClickedNoteByStringNoteAndFretNum({ 
      stringItsOn : { noteLetter: "B", noteOctave: 5 },
      fretNumber: 7,
      circColor: "green",
      textColor: "black"
    });
    
    myFretboard.setClickedNoteByStringNoteAndFretNum({ 
      stringItsOn : { noteLetter: "G", noteOctave: 4 },
      fretNumber: 6,
      circColor: "purple",
      textColor: "yellow"
    });
    
    myFretboard.setClickedNoteByStringNoteAndFretNum({ 
      stringItsOn : { noteLetter: "A", noteOctave: 4 } ,
      fretNumber: 5,
      circColor: "pink",
      textColor: "brown"
    });
		
		$('.get-clicked').on("click", function() {
			console.log(myFretboard.getClickedNotes());
		});
     //myFretboard.clearClickedNotes();
  </script>
</body>

</html>
